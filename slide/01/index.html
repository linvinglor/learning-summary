<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>百度爱玩 - 图片轮换效果</title>
    <link rel="stylesheet" type="text/css" href="css/slide.css" media="all"/>
</head>
<body>
<!--http://1.gitapp.sinaapp.com/pro/slide/bd01.html-->
<div id="mp-banner" class="mp-banner">
    <div id="j-banner" class="mp-banner-wrap">
        <div class="mp-banner-inner">
            <ul class="mp-banner-ct mp-clearfix" id="mp-banner-ct">
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/1.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/2.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/3.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/4.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/5.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
                <li class="mp-banner-item">
                    <a href="#" class="mp-banner-link" title="大型3D武侠修仙网页游戏，全视角3D战斗！">开始游戏</a>
                    <div class="mp-banner-back">
                        <div class="mp-btn-start">开始游戏</div>
                    </div>
                    <div class="mp-banner-front">
                        <img width="237" height="163" alt="剑宗" src="img/6.jpg" class="mp-banner-img">
                        <div class="mp-banner-footer2">
                            <span class="num">1</span>
                            <h3>剑宗</h3>
                            <span class="role">角色扮演</span></div>
                        <p class="mp-banner-intro">大型3D武侠修仙网页游戏，全视角3D战斗！</p>
                    </div>
                </li>
            </ul>
        </div>
        <div id="j-banner-side" class="mp-banner-aside">
            <h3 class="title">大家都爱玩<i class="mp-icon mp-icon-hot hot"></i></h3>
            <ul class="list">
                <li class="list-item">
                    <a target="_blank" href="#">
                        <img alt="大天使之剑" src="img/s1.jpg" class="pic">
                        <div class="txt">
                            <h4 class="name">大天使之剑</h4>
                            <p class="role">战争策略</p>
                            <p class="platform">37游戏</p>
                        </div>
                    </a>
                </li>
                <li class="list-item">
                    <a target="_blank" href="#">
                        <img alt="大天使之剑" src="img/s2.jpg" class="pic">
                        <div class="txt">
                            <h4 class="name">大天使之剑</h4>
                            <p class="role">战争策略</p>
                            <p class="platform">37游戏</p>
                        </div>
                    </a>
                </li>
                <li class="list-item">
                    <a target="_blank" href="#">
                        <img alt="大天使之剑" src="img/s3.jpg" class="pic">
                        <div class="txt">
                            <h4 class="name">大天使之剑</h4>
                            <p class="role">战争策略</p>
                            <p class="platform">37游戏</p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
        <div class="mp-banner-pager">
            <div class="mp-banner-pager-prev OP_LOG_LINK" id="mp-banner-pager-prev">
                <i class="arrow-left mp-png"></i>
            </div>
            <div class="mp-banner-pager-next OP_LOG_LINK"  id="mp-banner-pager-next">
                <i class="arrow-right mp-png"></i>
            </div>
        </div>
    </div>
    <div class="mp-banner-bg">
        <ul>
            <li class="list-item yeyou"></li>
            <li class="list-item wangyou" style="display: none;"></li>
            <li class="list-item xiaoyouxi" style="display: none;"></li>
            <li class="list-item shouyou" style="display: none;"></li>
        </ul>
    </div>
</div>
<script type="text/javascript">
    (function(){
        var box = document.getElementById('j-banner');
        var prev = document.getElementById('mp-banner-pager-prev');
        var next = document.getElementById('mp-banner-pager-next');
        var list = document.getElementById('mp-banner-ct');
        var items = list.getElementsByTagName('li');
        var li = items[0];
        var now = 0;
        var timer = null;
        var flag = false;

        list.style.position = 'relative';
        list.style.width = '20000px';
        list.style.left = '0px';

        prev.onclick = function(){
            if(now == 0){
                for(var i = 3; i < 6; i++){
                    move(items[i], -1560);
                }
                !flag && act(list, 'left', (li.clientWidth + 23) * 3, function(){
                    for(var i = 3; i < 6; i++){
                        clear(items[i]);
                    }
                    list.style.left = '-780px';
                    flag = true;
                });
                flag = false;
                now += 3;
            } else {
                act(list, 'left', (li.clientWidth + 23) * 0);
                now = 0;
            }
        }

        function isDo(){
            if(flag){
                var first = new Date();
                flag = false;
            } else {
                var second = new Date();
                if(second - first <= 3000){
                    return false;
                } else {
                    flag = true;
                    first = second;
                }
            }
        }

        next.onclick = function(){
            if(now == 0){
                act(list, 'left', -(li.clientWidth + 23) * 3);
                now += 3;
            } else {
                for(var i = 0; i < 3; i++){
                    move(items[i], 1560);
                }
                act(list, 'left', -(li.clientWidth + 23) * 6, function(){
                    for(var i = 0; i < 3; i++){
                        clear(items[i]);
                    }
                    list.style.left = '0';
                });
                now = 0;
            }
        }

        box.onmouseover = function(){
            prev.style.display = 'block';
            next.style.display = 'block';
            clearInterval(timer);
        }
        box.onmouseout = function(){
            prev.style.display = 'none';
            next.style.display = 'none';
            timer = setInterval(play, 4000);
        }

        function auto(){
            timer = setInterval(play, 4000);
        }
        function play(){
            next.onclick();
        }
        auto();


        function act(obj, attr, target, fn){
            obj.timer && clearInterval(obj.timer);
            obj.timer = setInterval(function(){
                doMove(obj, attr, target, fn);
            }, 20);

            var d = new Date();
            if (d.getTime() - obj.lastMove > 30) {
                doMove(obj, attr, target, fn);
            }
        }

        function doMove(obj, attr, target, fn){
            var cur = 0;
            cur = parseInt(obj.style[attr]);
            var speed = (target - cur) / 8;
            var stop = true;
            speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
            if(cur != target){
                stop = false;
                obj.style[attr] = cur + speed + 'px';
            }
            if(stop){
                clearInterval(obj.timer);
                obj.timer = null;
                fn && fn();
            }

            obj.lastMove = (new Date()).getTime();
        }

        function move(obj, val){
            obj.style.position = 'relative';
            obj.style.left = val + 'px';
        }
        function clear(obj){
            obj.removeAttribute('style');
        }

    }());

</script>
</body>
</html>